.details {
  position: relative;
}

.details[open] > summary {
  box-shadow: inset 0 0 0.75rem rgba(0, 0, 0, 0.3);
  top: 0.25rem;
}

.details[open] ~ *[data-element='sets-list'] {
  margin-block-start: var(--space-lg);
  max-height: calc(calc(5.5rem * 3) + calc(var(--space-md) * 2));
  opacity: 1;

  & > li {
    visibility: visible;
  }
}

.details[open] span[data-element='accordion-arrow'] {
  transform: rotateX(180deg);
}

.unit {
  --shadow-size: 0.125rem;

  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  flex-wrap: wrap;
  border: solid var(--black);
  border-radius: var(--radius-sm, 0.25rem);
  border-width: var(--shadow-size);
  box-shadow: var(--shadow-size) var(--shadow-size) var(--black);
  color: var(--black);
  cursor: pointer;
  padding: 1.5rem 0.875rem 1.5rem 1.5rem;
  position: relative;
  width: 100%;
  z-index: 0;
}

.unit:hover img,
.unit:active img {
  opacity: 0.85;
}

.unit:hover:not(.completed) {
  background-color: var(--background-darker);
}

.unit:active {
  box-shadow: none;
  top: calc(2 * var(--shadow-size));
}

.unit:active:not(.completed) {
  background-color: var(--background-dark);
}

.unit.completed:hover {
  background-color: var(--green-container);
}

.unit.completed:active {
  background-color: var(--green-container-dark);
}

.completed {
  background-color: var(--green-container-low);
  border-color: var(--green-dark);
  box-shadow: var(--shadow-size) var(--shadow-size) var(--green-dark);

  & img {
    filter: opacity(0.8) drop-shadow(0 0 0 var(--green));
  }
}

.completed,
.completed h2 {
  color: var(--on-green-container);
}
